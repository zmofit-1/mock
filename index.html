<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>College Resources â€” MVP (Interactive)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- HEADER with quick user info -->
  <header>
    <div id="appTitle">College Resources</div>
    <div id="userInfo"></div>
  </header>

  <!-- SCREENS -->
  <!-- REGISTER -->
  <section id="register" class="screen active">
    <h2>Create account</h2>
    <input id="regEmail" placeholder="Email" />
    <input id="regPhone" placeholder="Phone (optional)" />
    <input id="regPass" type="password" placeholder="Password" />
    <button onclick="register()">Register (send verification)</button>
    <button onclick="simulateGoogleSignup()">Sign up with Google</button>
    <p>Already registered? <a href="#" onclick="showScreen('login')">Login</a></p>
  </section>

  <!-- VERIFY -->
  <section id="verify" class="screen">
    <h2>Verify email</h2>
    <p>We sent a 6-digit code to your email. (simulate code: <b>123456</b>)</p>
    <input id="verifyCode" placeholder="Enter code" />
    <button onclick="verifyAccount()">Verify</button>
  </section>

  <!-- LOGIN -->
  <section id="login" class="screen">
    <h2>Login</h2>
    <input id="loginEmail" placeholder="Email" />
    <input id="loginPass" type="password" placeholder="Password" />
    <label><input id="enableBiometric" type="checkbox" /> Enable biometric login</label>
    <button onclick="login()">Login</button>
    <p>New? <a href="#" onclick="showScreen('register')">Create an account</a></p>
  </section>

  <!-- HOME -->
  <section id="home" class="screen">
    <h2>Discover on Campus</h2>
    <div class="horizontal">
      <button onclick="showScreen('post')">+ Post Resource</button>
      <button onclick="showScreen('search')">Search</button>
      <button onclick="showScreen('consumer')">My Feed</button>
    </div>
    <div id="homeFeed"></div>
  </section>

  <!-- POST -->
  <section id="post" class="screen">
    <h2>Post Resource</h2>
    <input id="resTitle" placeholder="Title (e.g., Calculus Textbook)" />
    <input id="resPrice" placeholder="Price (numeric, USD)" type="number" />
    <select id="resUnit">
      <option value="one-time">One-time (sale)</option>
      <option value="per-month">Per month (rent)</option>
      <option value="per-hour">Per hour (service)</option>
    </select>
    <select id="resCat">
      <option>Books</option>
      <option>Rooms</option>
      <option>Laptops</option>
      <option>Tutoring</option>
      <option>Rides</option>
      <option>Parking</option>
    </select>
    <textarea id="resDesc" placeholder="Description"></textarea>
    <input id="resLocation" placeholder="Location (e.g., Library Lot)"/>
    <input id="resEmail" placeholder="Contact email (default: your account)" />
    <input id="resPhone" placeholder="Contact phone (optional)" />
    <label><input id="visibilityCampus" type="checkbox" checked /> Campus-only visibility</label>
    <div class="hint">Fee policy: A 2% service fee is charged to the provider only after a successful purchase.</div>
    <div class="horizontal">
      <button class="primary" onclick="publishResource()">Publish</button>
      <button onclick="showScreen('home')">Cancel</button>
    </div>
  </section>

  <!-- CONSUMER FEED -->
  <section id="consumer" class="screen">
    <h2>Consumer Feed</h2>
    <div id="consumerFeed"></div>
  </section>

  <!-- SEARCH -->
  <section id="search" class="screen">
    <h2>Search</h2>
    <input id="searchTerm" placeholder="Search by title or category" />
    <div class="horizontal">
      <button onclick="performSearch()">Search</button>
      <button onclick="clearSearch()">Clear</button>
    </div>
    <div id="searchResults"></div>
  </section>

  <!-- LISTING DETAIL / PURCHASE -->
  <section id="listing" class="screen">
    <h2 id="listingTitle"></h2>
    <div id="listingMeta"></div>
    <p id="listingDesc"></p>
    <div id="listingProvider"></div>
    <div class="horizontal">
      <button class="primary" onclick="openChat(currentListing.providerId)">Message Provider</button>
      <button onclick="openPurchase()">Buy / Lease</button>
      <button onclick="saveListing(currentListing.id)">Save</button>
      <button onclick="showScreen('home')">Back</button>
    </div>
    <div id="listingNotes"></div>
  </section>

  <!-- PURCHASE FLOW (modal-like screen) -->
  <section id="purchase" class="screen">
    <h2>Confirm Purchase</h2>
    <div id="purchaseSummary"></div>
    <div class="horizontal">
      <button class="primary" onclick="completePurchase()">Pay Now (simulate)</button>
      <button onclick="showScreen('listing')">Cancel</button>
    </div>
  </section>

  <!-- MESSAGES -->
  <section id="messages" class="screen">
    <h2>Messages</h2>
    <div id="threads"></div>
    <button onclick="showScreen('home')">Back</button>
  </section>

  <!-- CHAT -->
  <section id="chat" class="screen">
    <h2 id="chatWith"></h2>
    <div id="chatBox" class="chat-box"></div>
    <input id="chatMsg" placeholder="Type a message" />
    <div class="horizontal">
      <button onclick="sendMessage()">Send</button>
      <button onclick="showScreen('messages')">Back</button>
    </div>
  </section>

  <!-- PROVIDER DASHBOARD -->
  <section id="providerDash" class="screen">
    <h2>Provider Dashboard</h2>
    <div class="stats">
      <div>Active listings: <span id="statActive">0</span></div>
      <div>Pending payout: $<span id="statPending">0.00</span></div>
      <div>Available payout: $<span id="statAvailable">0.00</span></div>
    </div>
    <div id="providerListings"></div>
    <div class="horizontal">
      <button onclick="requestPayout()">Request Payout</button>
      <button onclick="showScreen('home')">Back</button>
    </div>
  </section>

  <!-- TRANSACTIONS / HISTORY -->
  <section id="transactions" class="screen">
    <h2>Transactions</h2>
    <div id="transactionList"></div>
    <button onclick="showScreen('home')">Back</button>
  </section>

  <!-- SETTINGS -->
  <section id="settings" class="screen">
    <h2>Settings</h2>
    <div>
      <label>Email: <span id="settingsEmail"></span></label><br/>
      <label>Phone: <span id="settingsPhone"></span></label><br/>
    </div>
    <div class="horizontal">
      <button onclick="showScreen('home')">Back</button>
      <button onclick="logout()">Logout</button>
    </div>
  </section>

  <!-- BOTTOM NAV -->
  <nav class="bottom-nav">
    <button onclick="showScreen('home')">Home</button>
    <button onclick="showScreen('providerDash')">Provider</button>
    <button onclick="showScreen('consumer')">Consumer</button>
    <button onclick="showScreen('search')">Search</button>
    <button onclick="showScreen('settings')">Settings</button>
  </nav>

  <script src="script.js"></script>
</body>
</html>
